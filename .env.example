# ============================================
# NOTIFICATION ENGINE - ENVIRONMENT VARIABLES
# ============================================
# COPY THIS FILE TO .envrc AND FILL WITH REAL VALUES
# Never commit .envrc to git!

# --- AMBIENTE ---
export QUARKUS_PROFILE="dev"
export APP_ENVIRONMENT="development"

# --- APLICAÇÃO ---
export APP_NAME="notification-engine"
export APP_BASE_URL="http://localhost:8082"
export APP_VERSION="1.0.0-SNAPSHOT"

# --- SERVIDOR ---
export HTTP_PORT="8082"
export HTTP_HOST="0.0.0.0"
export CORS_ENABLED="true"
export CORS_ORIGINS="http://localhost:3000,http://localhost:8080"

# --- BANCO DE DADOS (Supabase PostgreSQL) ---
export SUPABASE_PROJECT_ID="your-project-id"
export SUPABASE_URL="https://your-project-id.supabase.co"
export DB_HOST="db.your-project-id.supabase.co"
export DB_PORT="5432"
export DB_NAME="postgres"
export DB_USER="your-db-user"
export DB_PASSWORD='your-secure-password'
export DB_KIND="postgresql"
export DB_JDBC_URL="jdbc:postgresql://db.your-project-id.supabase.co:5432/postgres?sslmode=require"
export DB_USERNAME="your-db-user"
export DB_POOL_MAX_SIZE="20"
export DB_POOL_MIN_SIZE="5"
export DB_GENERATION="update"

# --- AUTENTICAÇÃO (KEYCLOAK) ---
export OIDC_ENABLED="true"
export OIDC_AUTH_SERVER_URL="https://auth.your-domain.com/realms/your-realm"
export OIDC_CLIENT_ID="notification-engine-dev"
export OIDC_CLIENT_SECRET="your-client-secret"
export OIDC_ISSUER="${OIDC_AUTH_SERVER_URL}"

# --- EMAIL ---
export EMAIL_FROM="noreply@your-domain.com"
export EMAIL_COMPANY_NAME="Your Company"
export EMAIL_SUPPORT="support@your-domain.com"
export EMAIL_MOCK="true"
export SMTP_HOST="smtp.gmail.com"
export SMTP_PORT="587"
export SMTP_USERNAME=""
export SMTP_PASSWORD=""
export SMTP_START_TLS="REQUIRED"
export SMTP_AUTH="true"

# --- WHATSAPP ---
export WHATSAPP_ENABLED="false"
export WHATSAPP_HEADLESS="false"
export WHATSAPP_SESSION_PATH="./whatsapp-session"
export WHATSAPP_TIMEOUT="30"
export WHATSAPP_MAX_RETRIES="3"
export WHATSAPP_QR_TIMEOUT="120"
export WHATSAPP_MOCK="true"

# --- LOGGING ---
export LOG_LEVEL="DEBUG"
export LOG_JSON="false"
export APP_LOG_LEVEL="DEBUG"
export HIBERNATE_LOG_LEVEL="WARN"
export LOG_SQL="true"

# --- FEATURES ---
export SWAGGER_ENABLED="true"
export METRICS_ENABLED="false"
export SCHEDULER_ENABLED="false"
export CACHE_ENABLED="false"
export FEATURE_MOCK="true"

# --- CACHE ---
export CACHE_RECIPIENTS_TTL="300s"
export CACHE_RECIPIENTS_MAX_SIZE="1000"
export CACHE_USERS_TTL="3600s"
export CACHE_USERS_MAX_SIZE="5000"

# --- NOTIFICAÇÕES ---
export NOTIFICATION_RETRY_ATTEMPTS="3"
export NOTIFICATION_RETRY_DELAY="1000ms"
export NOTIFICATION_RETRY_MAX_DELAY="10000ms"
export NOTIFICATION_RETRY_JITTER="0.5"

export RATE_LIMIT_ENABLED="false"
export RATE_LIMIT_MAX_REQUESTS="100"
export RATE_LIMIT_PER_SECONDS="60"

# --- SERVIÇOS EXTERNOS ---
export WORKFLOW_SERVICE_URL="http://localhost:8081"
export USER_SERVICE_URL="http://localhost:8083"
export WORKFLOW_TIMEOUT="10s"
export USER_TIMEOUT="5s"

# --- KEYCLOAK ADMIN ---
export KEYCLOAK_ADMIN_URL="http://localhost:8180/auth/admin/realms/your-realm"
export KEYCLOAK_ADMIN_CLIENT_ID="admin-cli"
export KEYCLOAK_ADMIN_USERNAME="admin"
export KEYCLOAK_ADMIN_PASSWORD="admin"
export KEYCLOAK_ADMIN_REALM="your-realm"

# --- FEATURE FLAGS ---
export FEATURE_WHATSAPP="false"
export FEATURE_EMAIL="true"
export FEATURE_PUSH="false"
export FEATURE_SMS="false"

# --- AUDIT ---
export AUDIT_ENABLED="false"
export AUDIT_LOG_REQUESTS="true"
export AUDIT_LOG_RESPONSES="false"

# --- JVM ---
export JAVA_OPTS="-Xmx512m -Xms256m -XX:+UseG1GC -XX:MaxGCPauseMillis=50"
export JAVA_TOOL_OPTIONS="-Dfile.encoding=UTF-8 -Duser.timezone=America/Sao_Paulo"
