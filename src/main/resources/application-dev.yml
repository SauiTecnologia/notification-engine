# src/main/resources/application-dev.yml
quarkus:
  http:
    port: 8082
  
  # ========== DATABASE ==========
  datasource:
    db-kind: h2  # ‚Üê Mude de postgresql para h2
    jdbc:
      url: jdbc:h2:mem:notification_dev;MODE=PostgreSQL;DB_CLOSE_DELAY=-1
      # Op√ß√£o alternativa se quiser arquivo persistente:
      # url: jdbc:h2:file:./data/notification_dev;MODE=PostgreSQL;AUTO_SERVER=TRUE
    username: sa
    password: 
  
  # ========== HIBERNATE ==========
  hibernate-orm:
    database:
      generation: update
    # üëá REMOVA ou comente esta linha para evitar erro
    # sql-load-script: import.sql
    packages:
      scan: "com.apporte.core.model"  # ‚Üê Adicione se n√£o existir
  
  # ========== OIDC/SECURITY ==========
  oidc:
    enabled: false
  
  security:
    users:
      embedded:
        enabled: true
        plain-text: true
        users:
          admin: admin,admin
          user: user,user
        roles:
          admin: notification-admin
          user: notification-sender
  
  # ========== LOGGING ==========
  log:
    level: DEBUG
    console:
      json: false
  
  # ========== SWAGGER ==========
  swagger-ui:
    always-include: true
  
  # ========== MAIL ==========
  mailer:
    mock: true
  
  # ========== DEV SERVICES ==========
  devservices:
    enabled: true

app:
  environment: "development"
  base-url: "http://localhost:8082"
  
  notification:
    retry:
      max-attempts: 2
      initial-delay: 1s
    whatsapp:
      enabled: false
      mock: true
    email:
      mock: true
  
  services:
    workflow:
      base-url: "http://localhost:8081"
    user:
      base-url: "http://localhost:8083"
  
  features:
    mock-mode: true